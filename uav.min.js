"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":_typeof2(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":_typeof2(a)};function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(function(){function a(m){var n=document.createElement("div");return n.innerHTML=m,1<n.children.length&&console.error("Components must have only one root node."),n=n.firstElementChild,n}function b(m){return m&&"object"===("undefined"==typeof m?"undefined":_typeof(m))}function c(m,n){Object.keys(m).forEach(function(o){var p=m[o];Object.defineProperty(m,o,{get:function get(){return p},set:function set(r){p=r,n("_childPropertyModified")}}),b(m[o])&&c(m[o],n)})}function d(m,n){try{return new Function("with(arguments[0]){return "+m+";}")(n)}catch(o){return"_invalidExpression"}}function e(m,n,o){var p=m.match(/{.*?}/g);p&&function(){var q=!0;(function r(){var s,t=m;p.forEach(function(u){var v=u.substring(1,u.length-1);q&&(n._currentlyCreatingBinding=r),s=d(v,n),delete n._currentlyCreatingBinding;var w="undefined"==typeof s?"undefined":_typeof(s);"boolean"===w?t=t.replace(u,s?v:""):"function"===w?t=s:s==void 0||"_invalidExpression"===s||null===s?t=t.replace(u,""):"object"===w&&s._element?t=s._element:(Array.isArray(s)&&(s=s.join("")),t=t.replace(u,s.toString()))}),o(t)})(),q=!1}()}function f(m,n){m.childNodes.forEach(function(o){return n.appendChild(o.cloneNode(!0))})}function g(m,n,o,p,q,r){function s(){t&&(q._currentlyCreatingBinding=s);var u=d(n,q);delete q._currentlyCreatingBinding;var v=document.createElement(m);"_invalidExpression"!==u&&function(){var w=a("<div>"+p+"</div>");if(Array.isArray(u)){var x=q[o];u.forEach(function(y){q[o]=y,f(w,v),k(v,q)}),q[o]=x}else"string"==typeof o&&(o=o.split(".")),Object.keys(u).forEach(function(y){var z=q[o[0]],A=q[o[1]];q[o[0]]=y,q[o[1]]=u[y],f(w,v),k(v,q),q[o[0]]=z,q[o[1]]=A})}(),r(v)}var t=!0;s(),t=!1}function h(m,n){var o=[].concat(_toConsumableArray(m.attributes)).filter(function(p){return p.specified&&"as"!==p.name}).map(function(p){return{name:p.name,value:p.value}});o.forEach(function(p){n(p)}),m.value&&n({name:"value",value:m.value})}function j(m,n,o){e(n.value,o,function(p){"function"==typeof p?(m.removeAttribute(n.name),m[n.name]=p):m.setAttribute(n.name,p)})}function k(m,n){return h(m,function(o){"loop"===o.name&&m.attributes.as?(g(m.tagName,o.value,m.attributes.as.value,m.innerHTML,n,function(p){m.innerHTML="",[].concat(_toConsumableArray(p.childNodes)).forEach(function(q){return m.appendChild(q)}),h(m,function(q){j(m,q,n)})}),m.removeAttribute("loop"),m.removeAttribute("as")):j(m,o,n)}),m.childNodes.forEach(function(o){if(3===o.nodeType)e(o.textContent,n,function(q){o.textContent=q});else{var p=o.tagName.toLowerCase();void 0!==n[p]&&n[p]._element?e("{"+p+"}",n,function(q){o.parentNode===m&&(m.replaceChild(q,o),o=q)}):k(o,n)}}),m}function l(m,n){return n?void[].concat(_toConsumableArray(document.querySelectorAll(m))).forEach(n):document.querySelector(m)||document.createElement("div")}l.model=function(n){var o={_bindings:{}};return Object.keys(n).forEach(function(p){function q(r){n[p]!==r&&("_childPropertyModified"!==r&&(b(r)&&c(r,q),n[p]=r),o._bindings[p]&&o._bindings[p].forEach(function(s){return s()}))}Object.defineProperty(o,p,{get:function get(){return o._currentlyCreatingBinding&&(o._bindings[p]=o._bindings[p]||[],o._bindings[p].push(o._currentlyCreatingBinding)),n[p]},set:q}),b(n[p])&&c(n[p],q)}),o},l.component=function(n,o,p){if("string"==typeof n?(n={_element:a(n)},p=o):n._element=k(a(o),n),p){var q=document.querySelector(p);q.innerHTML="",q.appendChild(n._element)}return n},l.placeholder=function(n){return{_element:document.createElement(n||"div")}},"undefined"!=typeof module&&module.exports?module.exports=l:window.uav=l})();